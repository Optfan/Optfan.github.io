import{r as c,f as h,u as b,a as f,k as m,l as e,U as w,j as p,M as B,N,o as r,g,x as R}from"./index-DfBtx3oA.js";import{b as A}from"./legacy-BYlQRfW3.js";import{a as C,_ as I}from"./axios-WvFoFazB.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{B as M}from"./Button-B83gKL5I.js";import{_ as P,A as V}from"./ArrowBigRightLines-DlJzXzo-.js";import{N as D}from"./Icon-B0_vOqwA.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./light-C2B3ab-m.js";import"./fade-in.cssr-pLevcU0q.js";const U={class:"container",style:{"align-items":"center"}},$={key:0,style:{color:"red"}},j={__name:"ArtworksMainPage",setup(q){const n=c(""),v=h(),x=b(),s=c(!1),i=c(null),{remote:u}=x.query;u&&(s.value=!0,C.get(`https://pixiv.xfan.top:2096/search?url=${u}`).then(t=>{const o=t.data;_(o)}).catch(t=>{i.value=t,s.value=!1,console.log(t)}));const _=t=>{s.value=!0;const a=t.match(/\d+/g).map(l=>A.encode(l));console.log(a),v.push({name:"artworks-id",params:{id:a}})};return(t,o)=>{const a=P,l=D,k=I,y=M;return r(),f("div",U,[m(a,{placeholder:"输入多个Pixiv ID，可用任意非数字字符分割",type:"textarea",size:"small",autosize:{minRows:3,maxRows:5},value:e(n),"onUpdate:value":o[0]||(o[0]=d=>w(n)?n.value=d:null),disabled:e(s)},null,8,["value","disabled"]),m(y,{strong:"",secondary:"",round:"",type:"primary","icon-placement":"right",style:{width:"100%","margin-top":"0.5rem"},onClick:o[1]||(o[1]=d=>_(e(n))),disabled:e(s)},{icon:p(()=>[e(s)?(r(),g(k,{key:1,size:"small"})):(r(),g(l,{key:0},{default:p(()=>[m(e(V))]),_:1}))]),default:p(()=>[R(" 解析并跳转展示页 ")]),_:1},8,["disabled"]),e(i)?(r(),f("div",$,B(e(i)),1)):N("",!0)])}}},Q=z(j,[["__scopeId","data-v-d21f4ce5"]]);export{Q as default};
