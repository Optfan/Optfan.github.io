import{$ as G,C as Z,F as J,q as K,c as S,a0 as Q,B as X,d as Y,h as D,G as ee}from"./index-BQjGC6y1.js";import{a3 as ne,m as te,a4 as re,e as oe,f as ie,h as _,j as N,a as R,u as se,k as ae,w as ue,l as ce}from"./light-DOfPr6ny.js";function de(e,...t){if(Array.isArray(e))e.forEach(o=>de(o,...t));else return e(...t)}function C(e){return e.some(t=>G(t)?!(t.type===Z||t.type===J&&!C(t.children)):!0)?e:null}function ke(e,t){return e&&C(e())||t()}function Se(e,t,o){return e&&C(e(t))||o(t)}function Ce(e,t){const o=e&&C(e());return t(o||null)}function $e(e){return!(e&&C(e()))}function fe(e,t){if(e===void 0)return!1;if(t){const{context:{ids:o}}=t;return o.has(e)}return ne(e)!==null}function W(e){return e.composedPath()[0]}const le={mousemoveoutside:new WeakMap,clickoutside:new WeakMap};function pe(e,t,o){if(e==="mousemoveoutside"){const u=s=>{t.contains(W(s))||o(s)};return{mousemove:u,touchstart:u}}else if(e==="clickoutside"){let u=!1;const s=c=>{u=!t.contains(W(c))},i=c=>{u&&(t.contains(W(c))||o(c))};return{mousedown:s,mouseup:i,touchstart:s,touchend:i}}return console.error(`[evtd/create-trap-handler]: name \`${e}\` is invalid. This could be a bug of evtd.`),{}}function I(e,t,o){const u=le[e];let s=u.get(t);s===void 0&&u.set(t,s=new WeakMap);let i=s.get(o);return i===void 0&&s.set(o,i=pe(e,t,o)),i}function he(e,t,o,u){if(e==="mousemoveoutside"||e==="clickoutside"){const s=I(e,t,o);return Object.keys(s).forEach(i=>{ge(i,document,s[i],u)}),!0}return!1}function me(e,t,o,u){if(e==="mousemoveoutside"||e==="clickoutside"){const s=I(e,t,o);return Object.keys(s).forEach(i=>{ve(i,document,s[i],u)}),!0}return!1}function be(){if(typeof window>"u")return{on:()=>{},off:()=>{}};const e=new WeakMap,t=new WeakMap;function o(){e.set(this,!0)}function u(){e.set(this,!0),t.set(this,!0)}function s(r,n,a){const d=r[n];return r[n]=function(){return a.apply(r,arguments),d.apply(r,arguments)},r}function i(r,n){r[n]=Event.prototype[n]}const c=new WeakMap,l=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function E(){var r;return(r=c.get(this))!==null&&r!==void 0?r:null}function $(r,n){l!==void 0&&Object.defineProperty(r,"currentTarget",{configurable:!0,enumerable:!0,get:n??l.get})}const w={bubble:{},capture:{}},H={};function A(){const r=function(n){const{type:a,eventPhase:d,bubbles:f}=n,m=W(n);if(d===2)return;const b=d===1?"capture":"bubble";let p=m;const h=[];for(;p===null&&(p=window),h.push(p),p!==window;)p=p.parentNode||null;const g=w.capture[a],y=w.bubble[a];if(s(n,"stopPropagation",o),s(n,"stopImmediatePropagation",u),$(n,E),b==="capture"){if(g===void 0)return;for(let v=h.length-1;v>=0&&!e.has(n);--v){const T=h[v],k=g.get(T);if(k!==void 0){c.set(n,T);for(const P of k){if(t.has(n))break;P(n)}}if(v===0&&!f&&y!==void 0){const P=y.get(T);if(P!==void 0)for(const F of P){if(t.has(n))break;F(n)}}}}else if(b==="bubble"){if(y===void 0)return;for(let v=0;v<h.length&&!e.has(n);++v){const T=h[v],k=y.get(T);if(k!==void 0){c.set(n,T);for(const P of k){if(t.has(n))break;P(n)}}}}i(n,"stopPropagation"),i(n,"stopImmediatePropagation"),$(n)};return r.displayName="evtdUnifiedHandler",r}function L(){const r=function(n){const{type:a,eventPhase:d}=n;if(d!==2)return;const f=H[a];f!==void 0&&f.forEach(m=>m(n))};return r.displayName="evtdUnifiedWindowEventHandler",r}const x=A(),M=L();function O(r,n){const a=w[r];return a[n]===void 0&&(a[n]=new Map,window.addEventListener(n,x,r==="capture")),a[n]}function V(r){return H[r]===void 0&&(H[r]=new Set,window.addEventListener(r,M)),H[r]}function j(r,n){let a=r.get(n);return a===void 0&&r.set(n,a=new Set),a}function B(r,n,a,d){const f=w[n][a];if(f!==void 0){const m=f.get(r);if(m!==void 0&&m.has(d))return!0}return!1}function U(r,n){const a=H[r];return!!(a!==void 0&&a.has(n))}function q(r,n,a,d){let f;if(typeof d=="object"&&d.once===!0?f=g=>{z(r,n,f,d),a(g)}:f=a,he(r,n,f,d))return;const b=d===!0||typeof d=="object"&&d.capture===!0?"capture":"bubble",p=O(b,r),h=j(p,n);if(h.has(f)||h.add(f),n===window){const g=V(r);g.has(f)||g.add(f)}}function z(r,n,a,d){if(me(r,n,a,d))return;const m=d===!0||typeof d=="object"&&d.capture===!0,b=m?"capture":"bubble",p=O(b,r),h=j(p,n);if(n===window&&!B(n,m?"bubble":"capture",r,a)&&U(r,a)){const y=H[r];y.delete(a),y.size===0&&(window.removeEventListener(r,M),H[r]=void 0)}h.has(a)&&h.delete(a),h.size===0&&p.delete(n),p.size===0&&(window.removeEventListener(r,x,b==="capture"),w[b][r]=void 0)}return{on:q,off:z}}const{on:ge,off:ve}=be();function We(e,t){return K(e,o=>{o!==void 0&&(t.value=o)}),S(()=>e.value===void 0?t.value:e.value)}function xe(e,t,o){if(!t)return;const u=te(),s=S(()=>{const{value:c}=t;if(!c)return;const l=c[e];if(l)return l}),i=()=>{X(()=>{const{value:c}=o,l=`${c}${e}Rtl`;if(fe(l,u))return;const{value:E}=s;E&&E.style.mount({id:l,head:!0,anchorMetaName:re,props:{bPrefix:c?`.${c}-`:void 0},ssr:u})})};return u?i():Q(i),s}const we=e=>{const{textColorBase:t,opacity1:o,opacity2:u,opacity3:s,opacity4:i,opacity5:c}=e;return{color:t,opacity1Depth:o,opacity2Depth:u,opacity3Depth:s,opacity4Depth:i,opacity5Depth:c}},He={name:"Icon",common:oe,self:we},ye=ie("icon",`
 height: 1em;
 width: 1em;
 line-height: 1em;
 text-align: center;
 display: inline-block;
 position: relative;
 fill: currentColor;
 transform: translateZ(0);
`,[_("color-transition",{transition:"color .3s var(--n-bezier)"}),_("depth",{color:"var(--n-color)"},[N("svg",{opacity:"var(--n-opacity)",transition:"opacity .3s var(--n-bezier)"})]),N("svg",{height:"1em",width:"1em"})]),Ee=Object.assign(Object.assign({},R.props),{depth:[String,Number],size:[Number,String],color:String,component:Object}),Me=Y({_n_icon__:!0,name:"Icon",inheritAttrs:!1,props:Ee,setup(e){const{mergedClsPrefixRef:t,inlineThemeDisabled:o}=se(e),u=R("Icon","-icon",ye,He,e,t),s=S(()=>{const{depth:c}=e,{common:{cubicBezierEaseInOut:l},self:E}=u.value;if(c!==void 0){const{color:$,[`opacity${c}Depth`]:w}=E;return{"--n-bezier":l,"--n-color":$,"--n-opacity":w}}return{"--n-bezier":l,"--n-color":"","--n-opacity":""}}),i=o?ae("icon",S(()=>`${e.depth||"d"}`),s,e):void 0;return{mergedClsPrefix:t,mergedStyle:S(()=>{const{size:c,color:l}=e;return{fontSize:ce(c),color:l}}),cssVars:o?void 0:s,themeClass:i==null?void 0:i.themeClass,onRender:i==null?void 0:i.onRender}},render(){var e;const{$parent:t,depth:o,mergedClsPrefix:u,component:s,onRender:i,themeClass:c}=this;return!((e=t==null?void 0:t.$options)===null||e===void 0)&&e._n_icon__&&ue("icon","don't wrap `n-icon` inside `n-icon`"),i==null||i(),D("i",ee(this.$attrs,{role:"img",class:[`${u}-icon`,c,{[`${u}-icon--depth`]:o,[`${u}-icon--color-transition`]:o!==void 0}],style:[this.cssVars,this.mergedStyle]}),s?D(s):this.$slots)}});export{Me as N,We as a,Ce as b,de as c,ve as d,Se as e,$e as i,ge as o,ke as r,xe as u};
