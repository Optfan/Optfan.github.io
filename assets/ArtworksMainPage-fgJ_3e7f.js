import{r as l,f as h,u as b,a as f,k as p,l as t,U as w,j as m,M as B,N,o as r,g,x as R}from"./index-Bvd7g_Is.js";import{b as A}from"./legacy-BYlQRfW3.js";import{a as C,_ as I}from"./axios-JGWInIng.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{B as M}from"./Button-xT8OWtoS.js";import{_ as P,A as V}from"./ArrowBigRightLines-CG1Fxf6Z.js";import{N as D}from"./Icon-C9xl0gK2.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./light-BjjTDlcf.js";import"./fade-in.cssr-C9Wx3GBX.js";const U={class:"container",style:{"align-items":"center"}},$={key:0,style:{color:"red"}},j={__name:"ArtworksMainPage",setup(q){const n=l(""),v=h(),k=b(),s=l(!1),i=l(null),{remote:u}=k.query;u&&(s.value=!0,C.get(`https://frp.cpufan.top:6115/search?url=${u}`).then(e=>{const o=e.data;_(o)}).catch(e=>{i.value=e,s.value=!1,console.log(e)}));const _=e=>{s.value=!0;const a=e.match(/\d+/g).map(c=>A.encode(c));console.log(a),v.push({name:"artworks-id",params:{id:a}})};return(e,o)=>{const a=P,c=D,y=I,x=M;return r(),f("div",U,[p(a,{placeholder:"输入多个Pixiv ID，可用任意非数字字符分割",type:"textarea",size:"small",autosize:{minRows:3,maxRows:5},value:t(n),"onUpdate:value":o[0]||(o[0]=d=>w(n)?n.value=d:null),disabled:t(s)},null,8,["value","disabled"]),p(x,{strong:"",secondary:"",round:"",type:"primary","icon-placement":"right",style:{width:"100%","margin-top":"0.5rem"},onClick:o[1]||(o[1]=d=>_(t(n))),disabled:t(s)},{icon:m(()=>[t(s)?(r(),g(y,{key:1,size:"small"})):(r(),g(c,{key:0},{default:m(()=>[p(t(V))]),_:1}))]),default:m(()=>[R(" 解析并跳转展示页 ")]),_:1},8,["disabled"]),t(i)?(r(),f("div",$,B(t(i)),1)):N("",!0)])}}},Q=z(j,[["__scopeId","data-v-cb991c29"]]);export{Q as default};
